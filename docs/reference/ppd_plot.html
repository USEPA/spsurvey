<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot power curves for panel designs — ppd_plot • spsurvey</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot power curves for panel designs — ppd_plot"><meta property="og:description" content="Plot power curves and relative power curves for trend detection for set of
panel designs, time periods, indicators, significance levels and trend.  Trend
may be based on percent change per period in mean or percent change in
proportion of cumulative distribution function above or below a fixed cut
point. Types of plots are combinations of standard/relative, mean/percent,
period/change and design/indicator.  Input must be be of class
powerpaneldesign and is normally the output of function power_dsgn."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spsurvey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">5.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/analysis.html">Analyzing Data</a>
    </li>
    <li>
      <a href="../articles/EDA.html">Summarizing and Visualizing Sampling Frames, Design Sites, and Analysis Data</a>
    </li>
    <li>
      <a href="../articles/sampling.html">Spatially Balanced Sampling</a>
    </li>
    <li>
      <a href="../articles/start-here.html">Start Here</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/USEPA/spsurvey/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot power curves for panel designs</h1>
    <small class="dont-index">Source: <a href="https://github.com/USEPA/spsurvey/blob/HEAD/R/ppd_plot.R" class="external-link"><code>R/ppd_plot.R</code></a></small>
    <div class="hidden name"><code>ppd_plot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plot power curves and relative power curves for trend detection for set of
panel designs, time periods, indicators, significance levels and trend.  Trend
may be based on percent change per period in mean or percent change in
proportion of cumulative distribution function above or below a fixed cut
point. Types of plots are combinations of standard/relative, mean/percent,
period/change and design/indicator.  Input must be be of class
powerpaneldesign and is normally the output of function power_dsgn.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ppd_plot</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  plot_type <span class="op">=</span> <span class="st">"standard"</span>,</span>
<span>  trend_type <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  xaxis_type <span class="op">=</span> <span class="st">"period"</span>,</span>
<span>  comp_type <span class="op">=</span> <span class="st">"design"</span>,</span>
<span>  dsgns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  indicator <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  trend <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  period <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>List object of class <code>powerpaneldesign</code>. Object provides
power calculated for a set of panel designs, set of indicators, set of
trend values, and set of alpha values. Expect input as list as output from
function <code>power_dsgn</code>.</p></dd>


<dt>plot_type</dt>
<dd><p>Default is <code>"standard"</code> which plots standard power curve. If
equal to <code>"relative"</code>, then plot power of one panel design compared to one or
more other panel designs.</p></dd>


<dt>trend_type</dt>
<dd><p>Character value for trend in mean (<code>"mean"</code>) or or percent
change in proportion (<code>"percent"</code>) of cumulative distribution function above
or below a fixed cut point.  Default is <code>"mean"</code>.</p></dd>


<dt>xaxis_type</dt>
<dd><p>Character value equal to <code>"period"</code> or <code>"change"</code> which
designates the type of x-axis for power plot where power is plotted on
y-axis.  For <code>xaxis_type = "period"</code>, x-axis is periods in <code>dsgnpower</code>. If
<code>xaxis_type = "change"</code>, then x-axis is percent per period with secondary
x-axes for total percent per period and associated change in mean.
Default is <code>"period"</code>.  Note that <code>xaxis_type</code> controls how the input for
<code>"period"</code> and <code>"trend"</code> parameters is used.</p></dd>


<dt>comp_type</dt>
<dd><p>Character value equal to <code>"design"</code> or <code>"indicator"</code> which
designates the type of power curve comparison that will occur on a single
plot.  If <code>comp_type = "design"</code>, then on a single plot of power curves all
panel designs specified in <code>"dsgns"</code> are plotted for a single indicator,
single trend value and single alpha.  If <code>comp_type = "indicator"</code>, then on a
single plot of power curves all indicators specified in <code>"indicator"</code> are
plotted for a single panel design, single trend value and single alpha.
Default is <code>"design"</code>.</p></dd>


<dt>dsgns</dt>
<dd><p>Vector of names of panel designs that are to be plotted.  Names
must be all, or a subset of, names of designs in <code>dsgnpower</code>. Default is <code>NULL</code>
which results in only the first panel design in <code>dsgnpower</code> being used.</p></dd>


<dt>indicator</dt>
<dd><p>Vector of indicator names contained in <code>dsgnpower</code> that are
to be plotted.  Indicator names must be all, or a subset of, indicator
names in <code>dsgnpower</code>. Default is <code>NULL</code> which results in only the first
indicator in <code>dsgnpower</code> being used.</p></dd>


<dt>trend</dt>
<dd><p><code>NULL</code>. A single value or vector of values contained in <code>dsgnpower</code>
that will be plotted. Values must be all, or a subset of, trend values in
<code>dsgnpower</code>. If <code>xaxis_type</code> is equal to <code>"period"</code>, then <code>NULL</code> results in maximum
trend value being used and a single value or vector of values results in a
separate plot for each value specified.  If <code>xaxis_type</code> is equal to
<code>"change"</code>, then <code>NULL</code> results in all trend values in <code>dsgnpower</code> being plotted
on x-axis and a vector of values results in all trend values in <code>dsgnpower</code>
from minimum value to maximum value specified being plotted on x-axis.</p></dd>


<dt>period</dt>
<dd><p><code>NULL</code>, a single value or vector of values contained in <code>dsgnpower</code>
that will be plotted. Values must be all, or a subset of, period values in
<code>dsgnpower</code>. If <code>xaxis_type</code> is equal to <code>"period"</code>, then <code>NULL</code> results in all
time periods in <code>dsgnpower</code> being plotted on x-axis and a vector of values
results in all period values in <code>dsgnpower</code> from minimum value to maximum
value specified being plotted on x-axis. If <code>xaxis_type</code> is equal to
<code>"change"</code>, then <code>NULL</code> results in all time periods in <code>dsgnpower</code> being plotted
in separate plots and a vector of values results in time periods specified
being plotted in separate plots.</p></dd>


<dt>alpha</dt>
<dd><p>A single value or vector of significance levels (as proportion,
e.g. <code>0.05</code>) contained in <code>dsgnpower</code> to used for power plots. Specifying more
than a single value results in multiple plots. Default is <code>NULL</code> which
results in the minimum significance level in <code>dsgnpower</code> being used.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments (S3 consistency)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>One or more power curve plots are created and plotted.  User must
  specify output graphical device if more than one plot is created.  See
  Devices for graphical output options.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>By default the plot function produces a standard power curve at end
  of each time period on the x-axis with y-axis as power. When more than one
  panel design is in <code>dsgnpower</code>, the first panel design is used. When more than
  one indicator is in <code>dsgnpower</code>, the first indicator is used.  When more than
  one trend value is in <code>dsgnpower</code>, the maximum trend value is used. When more
  than one significance level, <code>alpha</code>, is in <code>dsgnpower</code>, the minimum
  significance level is used.</p>
<p>Control of the type of plot produced is governed by <code>plot_type</code>, <code>trend_type</code>,
  <code>xaxis_type</code> and <code>comp_type</code>. The number of plots produced is governed by the
  number of panel designs (<code>dsgn</code>) specified, the number of indicators
  (<code>indicator</code>) specified, the number of time periods (<code>period</code>) specifies, the
  number of trend values (trend) specified and the number of significance
  levels (<code>alpha</code>) specified.</p>
<p>When the comparison type (<code>"comp_type"</code>) is equal to <code>"design"</code>, all power
  curves specified by dsgn are plotted on the same plot.  When <code>comp_type</code> is
  equal to <code>"indicator"</code>, all power curves specified by <code>"indicator"</code> are plotted
  on the same plot.  Typically, no more than 4-5 power curves should be
  plotted on same plot.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Tony Olsen <a href="mailto:Olsen.Tony@epa.gov">Olsen.Tony@epa.gov</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Construct a rotating panel design with sample size of 60</span></span></span>
<span class="r-in"><span><span class="va">R60N</span> <span class="op">&lt;-</span> <span class="fu"><a href="revisit_dsgn.html">revisit_dsgn</a></span><span class="op">(</span><span class="fl">20</span>, panels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>R60N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  n <span class="op">=</span> <span class="fl">60</span>, pnl_dsgn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pnl_n <span class="op">=</span> <span class="cn">NA</span>, start_option <span class="op">=</span> <span class="st">"None"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span>, begin <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Construct a fixed panel design with sample size of 60</span></span></span>
<span class="r-in"><span><span class="va">F60</span> <span class="op">&lt;-</span> <span class="fu"><a href="revisit_dsgn.html">revisit_dsgn</a></span><span class="op">(</span><span class="fl">20</span>, panels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>F60 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  n <span class="op">=</span> <span class="fl">60</span>, pnl_dsgn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pnl_n <span class="op">=</span> <span class="cn">NA</span>, start_option <span class="op">=</span> <span class="st">"None"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span>, begin <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Power for rotating panel with sample size 60</span></span></span>
<span class="r-in"><span><span class="va">Power_tst</span> <span class="op">&lt;-</span> <span class="fu"><a href="power_dsgn.html">power_dsgn</a></span><span class="op">(</span><span class="st">"Variable_Name"</span>,</span></span>
<span class="r-in"><span>  ind_values <span class="op">=</span> <span class="fl">43</span>, unit_var <span class="op">=</span> <span class="fl">280</span>,</span></span>
<span class="r-in"><span>  period_var <span class="op">=</span> <span class="fl">4</span>, unitperiod_var <span class="op">=</span> <span class="fl">40</span>, index_var <span class="op">=</span> <span class="fl">90</span>,</span></span>
<span class="r-in"><span>  unit_rho <span class="op">=</span> <span class="fl">1</span>, period_rho <span class="op">=</span> <span class="fl">0</span>, paneldsgn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    R60N <span class="op">=</span> <span class="va">R60N</span>, F60 <span class="op">=</span> <span class="va">F60</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>, nrepeats <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  trend_type <span class="op">=</span> <span class="st">"mean"</span>, trend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.0</span>, <span class="fl">2.0</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.05</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ppd_plot</span><span class="op">(</span><span class="va">Power_tst</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ppd_plot</span><span class="op">(</span><span class="va">Power_tst</span>, dsgns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"F60"</span>, <span class="st">"R60N"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ppd_plot</span><span class="op">(</span><span class="va">Power_tst</span>, dsgns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"F60"</span>, <span class="st">"R60N"</span><span class="op">)</span>, trend <span class="op">=</span> <span class="fl">1.0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ppd_plot</span><span class="op">(</span><span class="va">Power_tst</span>,</span></span>
<span class="r-in"><span>  plot_type <span class="op">=</span> <span class="st">"relative"</span>, comp_type <span class="op">=</span> <span class="st">"design"</span>,</span></span>
<span class="r-in"><span>  trend_type <span class="op">=</span> <span class="st">"mean"</span>, trend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, dsgns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"R60N"</span>, <span class="st">"F60"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  indicator <span class="op">=</span> <span class="st">"Variable_Name"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Michael Dumelle, Tom Kincaid, Tony Olsen, Marc Weber.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

