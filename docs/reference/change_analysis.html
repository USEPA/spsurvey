<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Change analysis — change_analysis • spsurvey</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Change analysis — change_analysis"><meta property="og:description" content='This function organizes input and output for the estimation of change between two
samples (for categorical and continuous variables).  The analysis data,
dframe, can be either a data frame or a simple features (sf) object.  If an
sf object is used, coordinates are extracted from the geometry column in the
object, arguments xcoord and ycoord are assigned values
"xcoord" and "ycoord", respectively, and the geometry column is
dropped from the object.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spsurvey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">5.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/analysis.html">Analyzing Data</a>
    </li>
    <li>
      <a href="../articles/EDA.html">Summarizing and Visualizing Sampling Frames, Design Sites, and Analysis Data</a>
    </li>
    <li>
      <a href="../articles/sampling.html">Spatially Balanced Sampling</a>
    </li>
    <li>
      <a href="../articles/start-here.html">Start Here</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/USEPA/spsurvey/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Change analysis</h1>
    <small class="dont-index">Source: <a href="https://github.com/USEPA/spsurvey/blob/HEAD/R/change_analysis.R" class="external-link"><code>R/change_analysis.R</code></a></small>
    <div class="hidden name"><code>change_analysis.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function organizes input and output for the estimation of change between two
samples (for categorical and continuous variables).  The analysis data,
<code>dframe</code>, can be either a data frame or a simple features (<code>sf</code>) object.  If an
<code>sf</code> object is used, coordinates are extracted from the geometry column in the
object, arguments <code>xcoord</code> and <code>ycoord</code> are assigned values
<code>"xcoord"</code> and <code>"ycoord"</code>, respectively, and the geometry column is
dropped from the object.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">change_analysis</span><span class="op">(</span></span>
<span>  <span class="va">dframe</span>,</span>
<span>  vars_cat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vars_cont <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  test <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  subpops <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  surveyID <span class="op">=</span> <span class="st">"surveyID"</span>,</span>
<span>  survey_names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  siteID <span class="op">=</span> <span class="st">"siteID"</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">"weight"</span>,</span>
<span>  revisitwgt <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  xcoord <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ycoord <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stratumID <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  clusterID <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weight1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xcoord1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ycoord1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sizeweight <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  sweight <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sweight1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fpc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  popsize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vartype <span class="op">=</span> <span class="st">"Local"</span>,</span>
<span>  jointprob <span class="op">=</span> <span class="st">"overton"</span>,</span>
<span>  conf <span class="op">=</span> <span class="fl">95</span>,</span>
<span>  All_Sites <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dframe</dt>
<dd><p>Data to be analyzed (analysis data). A data frame or
<code>sf</code> object containing survey design variables, response
variables, and subpopulation (domain) variables.</p></dd>


<dt>vars_cat</dt>
<dd><p>Vector composed of character values that identify the
names of categorical response variables in <code>dframe</code>.  The
default is <code>NULL</code>.</p></dd>


<dt>vars_cont</dt>
<dd><p>Vector composed of character values that identify the
names of continuous response variables in <code>dframe</code>.  The
default is <code>NULL</code>.</p></dd>


<dt>test</dt>
<dd><p>Character string or character vector providing the location
measure(s) to use for change estimation for continuous variables.  The
choices are <code>"mean"</code>, <code>"median"</code>, or <code>c("mean", "median")</code>.
The default is <code>"mean"</code>.</p></dd>


<dt>subpops</dt>
<dd><p>Vector composed of character values that identify the
names of subpopulation (domain) variables in <code>dframe</code>.
If a value is not provided, the value <code>"All_Sites"</code> is assigned to the
subpops argument and a factor variable named <code>"All_Sites"</code> that takes
the value <code>"All Sites"</code> is added to <code>dframe</code>.  The
default value is <code>NULL</code>.</p></dd>


<dt>surveyID</dt>
<dd><p>Character value providing name of the survey ID variable in
<code>dframe</code>.  The default value is <code>"surveyID"</code>.</p></dd>


<dt>survey_names</dt>
<dd><p>Character vector of length two that provides the survey
names contained in the <code>surveyID</code> variable in the <code>dframe</code> data
frame.  The two values in the vector identify the first survey and second
survey, respectively.  If a value is not provided, unique values of the
<code>surveyID</code> variable are assigned to the <code>survey_names</code> argument.
The default is <code>NULL</code>.</p></dd>


<dt>siteID</dt>
<dd><p>Character value providing name of the site ID variable in
<code>dframe</code>.  For a two-stage sample, the site ID variable
identifies stage two site IDs.  The default value is <code>"siteID"</code>.</p></dd>


<dt>weight</dt>
<dd><p>Character value providing name of the design weight
variable in <code>dframe</code>.  For a two-stage sample, the
weight variable identifies stage two weights.  The default value is
<code>"weight"</code>.</p></dd>


<dt>revisitwgt</dt>
<dd><p>Logical value that indicates whether each repeat visit
site has the same design weight in the two surveys, where
<code>TRUE</code> = the weight for each repeat visit site is the same and
<code>FALSE</code> = the weight for each repeat visit site is not the same.  When
this argument is <code>FALSE</code>, all of the repeat visit sites are assigned
equal weights when calculating the covariance component of the change
estimate standard error.  The default is <code>FALSE</code>.</p></dd>


<dt>xcoord</dt>
<dd><p>Character value providing name of the x-coordinate variable in
<code>dframe</code>.  For a two-stage sample, the x-coordinate
variable identifies stage two x-coordinates.  Note that x-coordinates are
required for calculation of the local mean variance estimator.  If <code>dframe</code>
is an <code>sf</code> object, this argument is not required (as the geometry column
in <code>dframe</code> is used to find the x-coordinate). The default
value is <code>NULL</code>.</p></dd>


<dt>ycoord</dt>
<dd><p>Character value providing name of the y-coordinate variable in
<code>dframe</code>.  For a two-stage sample, the y-coordinate
variable identifies stage two y-coordinates.  Note that y-coordinates are
required for calculation of the local mean variance estimator.  If <code>dframe</code>
is an <code>sf</code> object, this argument is not required (as the geometry column
in <code>dframe</code> is used to find the y-coordinate). The default
value is <code>NULL</code>.</p></dd>


<dt>stratumID</dt>
<dd><p>Character value providing name of the stratum ID variable in
<code>dframe</code>.  The default value is <code>NULL</code>.</p></dd>


<dt>clusterID</dt>
<dd><p>Character value providing the name of the cluster
(stage one) ID variable in <code>dframe</code>.  Note that cluster
IDs are required for a two-stage sample.  The default value is <code>NULL</code>.</p></dd>


<dt>weight1</dt>
<dd><p>Character value providing name of the stage one weight
variable in <code>dframe</code>.  The default value is <code>NULL</code>.</p></dd>


<dt>xcoord1</dt>
<dd><p>Character value providing the name of the stage one
x-coordinate variable in <code>dframe</code>.  Note that x
coordinates are required for calculation of the local mean variance
estimator.  The default value is <code>NULL</code>.</p></dd>


<dt>ycoord1</dt>
<dd><p>Character value providing the name of the stage one
y-coordinate variable in <code>dframe</code>.  Note that
y-coordinates are required for calculation of the local mean variance
estimator.  The default value is <code>NULL</code>.</p></dd>


<dt>sizeweight</dt>
<dd><p>Logical value that indicates whether size weights should be
used during estimation, where <code>TRUE</code> uses size weights and
<code>FALSE</code> does not use size weights. To employ size weights for a
single-stage sample, a value must be supplied for argument weight.  To
employ size weights for a two-stage sample, values must be supplied for
arguments <code>weight</code> and <code>weight1</code>. The default value is <code>FALSE</code>.</p></dd>


<dt>sweight</dt>
<dd><p>Character value providing the name of the size weight variable
in <code>dframe</code>.  For a two-stage sample, the size weight
variable identifies stage two size weights.  The default value is
<code>NULL</code>.</p></dd>


<dt>sweight1</dt>
<dd><p>Character value providing name of the stage one size weight
variable in <code>dframe</code>.  The default value is <code>NULL</code>.</p></dd>


<dt>fpc</dt>
<dd><p>Object that specifies values required for calculation of the
  finite population correction factor used during variance estimation. The
  object must match the survey design in terms of stratification and whether
  the design is single-stage or two-stage.  For an unstratified design, the
  object is a vector.  The vector is composed of a single numeric value for a
  single-stage design.  For a two-stage unstratified design, the object is a
  named vector containing one more than the number of clusters in the sample,
  where the first item in the vector specifies the number of clusters in the
  population and each subsequent item specifies the number of stage two units
  for the cluster.  The name for the first item in the vector is arbitrary.
  Subsequent names in the vector identify clusters and must match the cluster
  IDs.  For a stratified design, the object is a named list of vectors, where
  names must match the strata IDs.  For each stratum, the format of the
  vector is identical to the format described for unstratified single-stage
  and two-stage designs.  Note that the finite population correction factor
  is not used with the local mean variance estimator.</p>
<p>Example fpc for a single-stage unstratified survey design:</p>
<p><code>fpc &lt;- 15000</code></p>
<p>Example fpc for a single-stage stratified survey design:</p>
<p><code>fpc &lt;- list(
    Stratum_1 = 9000,
    Stratum_2 = 6000)
   </code></p>
<p>Example fpc for a two-stage unstratified survey design:</p>
<p><code>fpc &lt;- c(
    Ncluster = 150,
    Cluster_1 = 150,
    Cluster_2 = 75,
    Cluster_3 = 75,
    Cluster_4 = 125,
    Cluster_5 = 75)
  </code></p>
<p>Example fpc for a two-stage stratified survey design:</p>
<p><code>fpc &lt;- list(
    Stratum_1 = c(
      Ncluster_1 = 100,
      Cluster_1 = 125,
      Cluster_2 = 100,
      Cluster_3 = 100,
      Cluster_4 = 125,
      Cluster_5 = 50),
    Stratum_2 = c(
      Ncluster_2 = 50,
      Cluster_1 = 75,
      Cluster_2 = 150,
      Cluster_3 = 75,
      Cluster_4 = 75,
      Cluster_5 = 125))
  </code></p></dd>


<dt>popsize</dt>
<dd><p>Object that provides values for the population argument of the
  <code>calibrate</code> or <code>postStratify</code> functions in the survey package. If
  a value is provided for popsize, then either the <code>calibrate</code> or
  <code>postStratify</code> function is used to modify the survey design object
  that is required by functions in the survey package.  Whether to use the
  <code>calibrate</code> or <code>postStratify</code> function is dictated by the format
  of popsize, which is discussed below.  Post-stratification adjusts the
  sampling and replicate weights so that the joint distribution of a set of
  post-stratifying variables matches the known population joint distribution.
  Calibration, generalized raking, or GREG estimators generalize
  post-stratification and raking by calibrating a sample to the marginal
  totals of variables in a linear regression model. For the <code>calibrate</code>
  function, the object is a named list, where the names identify factor
  variables in <code>dframe</code>.  Each element of the list is a
  named vector containing the population total for each level of the
  associated factor variable.  For the <code>postStratify</code> function, the
  object is either a data frame, table, or xtabs object that provides the
  population total for all combinations of selected factor variables in the
  <code>dframe</code> data frame.  If a data frame is used for <code>popsize</code>, the
  variable containing population totals must be the last variable in the data
  frame.  If a table is used for <code>popsize</code>, the table must have named
  <code>dimnames</code> where the names identify factor variables in the
  <code>dframe</code> data frame.  If the popsize argument is equal to <code>NULL</code>,
  then neither calibration nor post-stratification is performed.  The default
  value is <code>NULL</code>.</p>
<p>Example popsize for calibration:</p>
<p><code>popsize &lt;- list(
    Ecoregion = c(
      East = 750,
      Central = 500,
      West = 250),
    Type = c(
      Streams = 1150,
      Rivers = 350))
  </code></p>
<p>Example popsize for post-stratification using a data frame:</p>
<p><code>popsize &lt;- data.frame(
    Ecoregion = rep(c("East", "Central", "West"),
      rep(2, 3)),
    Type = rep(c("Streams", "Rivers"), 3),
    Total = c(575, 175, 400, 100, 175, 75))
  </code></p>
<p>Example popsize for post-stratification using a table:</p>
<p><code>popsize &lt;- with(MySurveyFrame,
    table(Ecoregion, Type))</code></p>
<p>Example popsize for post-stratification using an xtabs object:</p>
<p><code>popsize &lt;- xtabs(~Ecoregion + Type,
    data = MySurveyFrame)</code></p></dd>


<dt>vartype</dt>
<dd><p>Character value providing the choice of the variance
estimator, where <code>"Local"</code> indicates the local mean estimator and
<code>"SRS"</code> indicates the simple random sampling estimator.  The default
value is <code>"Local"</code>.</p></dd>


<dt>jointprob</dt>
<dd><p>Character value providing the choice of joint inclusion
probability approximation for use with Horvitz-Thompson and Yates-Grundy
variance estimators, where <code>"overton"</code> indicates the Overton
approximation, <code>"hr"</code> indicates the Hartley-Rao approximation, and
<code>"brewer"</code> equals the Brewer approximation.  The default value is
<code>"overton"</code>.</p></dd>


<dt>conf</dt>
<dd><p>Numeric value providing the Gaussian-based confidence level.  The default value
is <code>95</code>.</p></dd>


<dt>All_Sites</dt>
<dd><p>A logical variable used when <code>subpops</code> is not
<code>NULL</code>. If <code>All_Sites</code> is <code>TRUE</code>, then alongside the
subpopulation output, output for all sites (ignoring subpopulations) is
returned for each variable in <code>vars</code>. If <code>All_Sites</code> is
<code>FALSE</code>, then alongside the subpopulation output, output for all sites
(ignoring subpopulations) is not returned for each variable in <code>vars</code>.
The default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>List of change estimates composed of three items:
  (1) <code>catsum</code> contains change estimates for categorical variables,
  (2) <code>contsum_mean</code> contains estimates for continuous variables using
  the mean, and (3) <code>contsum_median</code> contains estimates for continuous
  variables using the median.  The items in the list will contain <code>NULL</code></p>


<p>for estimates that were not calculated.  Each data frame includes estimates
  for all combinations of population Types, subpopulations within types,
  response variables, and categories within each response variable (for
  categorical variables and continuous variables using the median).  Change
  estimates are provided plus standard error estimates and confidence
  interval estimates.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index">
<dl><dt><code><a href="trend_analysis.html">trend_analysis</a></code></dt>
<dd><p>for trend analysis</p></dd>

  
</dl></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Tom Kincaid <a href="mailto:Kincaid.Tom@epa.gov">Kincaid.Tom@epa.gov</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Categorical variable example for three resource classes</span></span></span>
<span class="r-in"><span><span class="va">dframe</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  surveyID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Survey 1"</span>, <span class="st">"Survey 2"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  siteID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Site"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">200</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  wgt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  xcoord <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">200</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  ycoord <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">200</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  stratum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Stratum 1"</span>, <span class="st">"Stratum 2"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>, <span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  CatVar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"North"</span>, <span class="st">"South"</span><span class="op">)</span>, <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  All_Sites <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"All Sites"</span>, <span class="fl">200</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Resource_Class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Good"</span>, <span class="st">"Fair"</span>, <span class="st">"Poor"</span><span class="op">)</span>, <span class="fl">200</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">myvars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CatVar"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mysubpops</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"All_Sites"</span>, <span class="st">"Resource_Class"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">change_analysis</span><span class="op">(</span><span class="va">dframe</span>,</span></span>
<span class="r-in"><span>  vars_cat <span class="op">=</span> <span class="va">myvars</span>, subpops <span class="op">=</span> <span class="va">mysubpops</span>,</span></span>
<span class="r-in"><span>  surveyID <span class="op">=</span> <span class="st">"surveyID"</span>, siteID <span class="op">=</span> <span class="st">"siteID"</span>, weight <span class="op">=</span> <span class="st">"wgt"</span>,</span></span>
<span class="r-in"><span>  xcoord <span class="op">=</span> <span class="st">"xcoord"</span>, ycoord <span class="op">=</span> <span class="st">"ycoord"</span>, stratumID <span class="op">=</span> <span class="st">"stratum"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $catsum</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Survey_1 Survey_2           Type Subpopulation Indicator Category  DiffEst.P</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Survey 1 Survey 2      All_Sites     All Sites    CatVar    North   3.000475</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Survey 1 Survey 2      All_Sites     All Sites    CatVar    South  -3.000475</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Survey 1 Survey 2 Resource_Class          Fair    CatVar    North  14.689313</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Survey 1 Survey 2 Resource_Class          Fair    CatVar    South -14.689313</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Survey 1 Survey 2 Resource_Class          Good    CatVar    North  -2.134971</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Survey 1 Survey 2 Resource_Class          Good    CatVar    South   2.134971</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 Survey 1 Survey 2 Resource_Class          Poor    CatVar    North  -4.938677</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 Survey 1 Survey 2 Resource_Class          Poor    CatVar    South   4.938677</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   StdError.P MarginofError.P LCB95Pct.P UCB95Pct.P  DiffEst.U StdError.U</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   6.585026        12.90641  -9.905938  15.906889  382.06004   387.8324</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   6.585026        12.90641 -15.906889   9.905938   63.51599   385.1670</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  11.769332        23.06747  -8.378153  37.756779  368.12859   233.8012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  11.769332        23.06747 -37.756779   8.378153 -151.88865   229.3587</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  11.112683        21.78046 -23.915429  19.645488  249.50372   233.6940</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  11.112683        21.78046 -19.645488  23.915429  308.38128   238.0019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  11.256382        22.06210 -27.000780  17.123425 -235.57227   196.7008</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  11.256382        22.06210 -17.123425  27.000780  -92.97664   201.8435</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   MarginofError.U LCB95Pct.U UCB95Pct.U nResp_1 Estimate.P_1 StdError.P_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        760.1374 -378.07741  1142.1975      50     48.19580     4.611864</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        754.9134 -691.39739   818.4294      50     51.80420     4.611864</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        458.2420  -90.11337   826.3706      12     41.20733     8.243510</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        449.5348 -601.42342   297.6461      19     58.79267     8.243510</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        458.0317 -208.52802   707.5355      18     53.27583     7.996568</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6        466.4751 -158.09385   774.8564      16     46.72417     7.996568</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7        385.5264 -621.09867   149.9541      20     50.02829     7.193177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8        395.6059 -488.58256   302.6293      15     49.97171     7.193177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   MarginofError.P_1 LCB95Pct.P_1 UCB95Pct.P_1 Estimate.U_1 StdError.U_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          9.039088     39.15671     57.23488    2472.7231     249.6333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          9.039088     42.76512     60.84329    2657.8553     270.2843</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         16.156982     25.05034     57.36431     693.6219     145.9089</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         16.156982     42.63569     74.94966     989.6272     164.0714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         15.672986     37.60284     68.94881     893.4358     141.4375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         15.672986     31.05119     62.39716     783.5644     145.5566</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         14.098368     35.92992     64.12666     885.6654     140.9146</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         14.098368     35.87334     64.07008     884.6637     144.4921</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   MarginofError.U_1 LCB95Pct.U_1 UCB95Pct.U_1 nResp_2 Estimate.P_2 StdError.P_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          489.2722    1983.4509    2961.9953      50     51.19627     4.700348</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          529.7475    2128.1078    3187.6028      50     48.80373     4.700348</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          285.9761     407.6458     979.5981      17     55.89664     8.400102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          321.5741     668.0530    1311.2013      15     44.10336     8.400102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          277.2124     616.2233    1170.6482      20     51.14086     7.716646</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          285.2858     498.2787    1068.8502      20     48.85914     7.716646</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7          276.1876     609.4778    1161.8530      13     45.08961     8.658194</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8          283.1993     601.4644    1167.8630      15     54.91039     8.658194</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   MarginofError.P_2 LCB95Pct.P_2 UCB95Pct.P_2 Estimate.U_2 StdError.U_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          9.212513     41.98376     60.40878    2854.7831     296.8117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          9.212513     39.59122     58.01624    2721.3713     274.4084</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         16.463898     39.43274     72.36054    1061.7505     182.6845</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         16.463898     27.63946     60.56726     837.7385     160.2684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         15.124348     36.01651     66.26521    1142.9395     186.0331</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         15.124348     33.73479     63.98349    1091.9457     188.3034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         16.969749     28.11986     62.05936     650.0931     137.2379</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         16.969749     37.94064     71.88014     791.6871     140.9355</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   MarginofError.U_2 LCB95Pct.U_2 UCB95Pct.U_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          581.7402    2273.0429    3436.5233</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          537.8306    2183.5407    3259.2019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          358.0550     703.6956    1419.8055</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          314.1204     523.6182    1151.8589</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          364.6181     778.3214    1507.5576</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          369.0678     722.8779    1461.0136</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7          268.9814     381.1117     919.0745</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8          276.2285     515.4585    1067.9156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $contsum_mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $contsum_median</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Michael Dumelle, Tom Kincaid, Tony Olsen, Marc Weber.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

